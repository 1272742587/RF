(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-index"],{"00f7":function(t,n,e){"use strict";e("6a54");var o=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("8f71"),e("bf0f"),e("aa77");var i=o(e("9b1b")),a=e("8f59"),s=o(e("c52f")),r=o(e("69ec")),c=o(e("5102")),l=e("b439"),u={data:function(){return{password:!0,focusField:{UserID:!1,Password:!1},rules:{UserID:[{required:!0,message:"登录账号不能为空"}]},postData:{UserID:"",Password:"",CompanyID:""},companyOptions:[],option:{label:"CompanyName",value:"CompanyID"}}},components:{uniCombox:r.default,uniIcons:c.default},onBackPress:function(t){return this.$backPress(),!0},onLoad:function(){this.loadStockList(),this.$system?this.loadCompany():uni.reLaunch({url:"/pages/index/index"})},mounted:function(){},methods:(0,i.default)((0,i.default)({},(0,a.mapActions)({setUserInfo:"setUserInfo",setStoreData:"setStoreData"})),{},{loadStockList:function(){(0,l.getData)("serverInfo");s.default.GetStockList().then((function(t){t&&t.length>0&&(0,l.set)("serverInfo",t[0])})).catch((function(t){(0,l.set)("serverInfo",{ID:"13",ServerIP:"172.31.20.55:5559",StockName:"商务-英克 测试服"})}))},handleSelectSystem:function(){uni.reLaunch({url:"/pages/index/index?isChange=true"})},loadCompany:function(){var t=this,n=(0,l.getData)("loginInfo")||"";this.postData.UserID=n&&n.UserID||"",this.$system.loadCompany?s.default.GetCompanys().then((function(e){t.companyOptions=e.length>0&&e.filter((function(t){return t.CompanyID})),t.postData.CompanyID=n&&n.CompanyID||"",t.initFocus()})):this.initFocus()},initFocus:function(){var t=this;setTimeout((function(){t.postData.UserID?t.focusField.Password=!0:t.focusField.UserID=!0}),200)},handleConfirm:function(t){var n=this;console.log(t.value),t.type&&setTimeout((function(){n.focusField[t.type]=!0}))},handleShowPassword:function(){var t=this;this.password=!this.password,setTimeout((function(){t.focusField.Password=!0}),400)},handleLogin:function(){var t=this;if(!(this.companyOptions.length>0)||this.postData.CompanyID)return this.$system.ignorePassword||this.postData.Password?void this.$refs.form.validate(this.postData,(function(n,e){var o=t.$system.loginUrl;n?s.default.Login(o,t.postData).then((function(n){t.setUserInfo((0,i.default)((0,i.default)({},n),{},{CompanyName:t.companyOptions.length>0&&t.companyOptions.find((function(n){return n.CompanyID===t.postData.CompanyID})).CompanyName||""})),(0,l.set)("loginInfo",{CompanyID:n.CompanyID,UserID:t.postData.UserID,Sign:n.sign}),uni.reLaunch({url:"/pages/navBars/index"})})):e&&setTimeout((function(){t.focusField[e]=!0}))})):(this.$simpleToast("请输入登录密码"),void setTimeout((function(){t.focusField.Password=!0}),200));this.$simpleToast("请选择分公司")}})};n.default=u},3018:function(t,n,e){var o=e("c86c");n=o(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.login-wrap[data-v-7aca3575] {height:100%}.login-wrap[data-v-7aca3575] .login-content{padding:0 %?40?%}.login-wrap[data-v-7aca3575] .login-content .login-form{height:%?460?%}.login-wrap[data-v-7aca3575] .login-content .company-box{height:%?100?%;line-height:%?100?%;margin-bottom:%?20?%}.login-wrap[data-v-7aca3575] .login-content .company-box .f-20{font-size:%?40?%!important}.login-wrap[data-v-7aca3575] .login-content .company-box .uni-combox{height:100%}.login-wrap[data-v-7aca3575] .login-content .company-box .uni-combox__input{font-size:%?28?%}.login-wrap[data-v-7aca3575] .form-item-box{height:%?100?%;line-height:%?100?%}.login-wrap[data-v-7aca3575] .input-icon{line-height:%?100?%}.login-wrap[data-v-7aca3575] .login-top{height:%?60?%}.login-wrap[data-v-7aca3575] .login-heder{font-size:20px;color:#007d34;text-align:center;padding:%?150?% 0 %?90?% 0;font-weight:600;letter-spacing:%?4?%}.login-wrap[data-v-7aca3575] .login-button{margin-top:%?20?%}.login-wrap[data-v-7aca3575] .system-change{text-align:right;padding-right:%?20?%}',""]),t.exports=n},"362f":function(t,n,e){var o=e("c714");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=e("967d").default;i("3c7f48d0",o,!0,{sourceMap:!1,shadowMode:!1})},"3f21":function(t,n,e){"use strict";var o=e("362f"),i=e.n(o);i.a},4887:function(t,n,e){"use strict";e.r(n);var o=e("bc08"),i=e.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(a);n["default"]=i.a},"4f45":function(t,n,e){var o=e("3018");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=e("967d").default;i("16cbc2f7",o,!0,{sourceMap:!1,shadowMode:!1})},"69ec":function(t,n,e){"use strict";e.r(n);var o=e("fb7d"),i=e("4887");for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);e("3f21");var s=e("828b"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"50ac55e5",null,!1,o["a"],void 0);n["default"]=r.exports},"7e84":function(t,n,e){"use strict";e.r(n);var o=e("00f7"),i=e.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(a);n["default"]=i.a},bc08:function(t,n,e){"use strict";e("6a54");var o=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("8f71"),e("bf0f"),e("5ef2"),e("aa77");var i=o(e("5102")),a={name:"uniCombox",components:{uniIcons:i.default},props:{label:{type:String,default:""},labelWidth:{type:String,default:"auto"},placeholder:{type:String,default:""},candidates:{type:Array,default:function(){return[]}},emptyTips:{type:String,default:"无匹配项"},value:{type:String,default:""},isSearch:{type:Boolean,default:!1},option:{type:[String,Object],default:""}},data:function(){return{showSelector:!1,inputVal:"",inputName:"",filters:[],isShowCancel:!1,firstShow:!1}},computed:{labelStyle:function(){return"auto"===this.labelWidth?{}:{width:this.labelWidth}},filterCandidates:function(){var t=this;return this.isSearch&&this.inputName?this.firstShow?(this.setFirstShow(),this.candidates):this.option?this.candidates.filter((function(n){return n[t.option.label].indexOf(t.inputName)>-1||n[t.option.value].indexOf(t.inputName)>-1})):this.candidates.filter((function(n){return n.indexOf(t.inputVal)>-1})):this.candidates},filterCandidatesLength:function(){return this.filterCandidates.length}},watch:{value:{handler:function(t){var n=this;if(this.inputVal=t,this.option){var e=this.filterCandidates.find((function(e){return e[n.option.value]===t}));this.inputName=e&&e[this.option.label]||""}},immediate:!0},showSelector:function(t){this.firstShow=t}},methods:{setFirstShow:function(){this.firstShow=!this.firstShow},toggleSelector:function(){this.showSelector=!this.showSelector},onFocus:function(){this.showSelector=!0,this.isShowCancel=!!this.inputVal},onBlur:function(){var t=this;setTimeout((function(){t.inputVal||(t.inputName=""),t.showSelector=!1,t.isShowCancel=!1}),200)},onSelectorClick:function(t){var n=this;if(this.inputVal=this.option?this.filterCandidates[t][this.option.value]:this.filterCandidates[t],this.showSelector=!1,this.option){var e=this.filterCandidates.find((function(t){return t[n.option.value]===n.inputVal}));this.inputName=e&&e[this.option.label]||""}this.$emit("input",this.inputVal)},handleCancel:function(){this.inputVal="",this.$emit("input",this.inputVal)},onInput:function(){var t=this;this.isShowCancel=!!this.inputName,setTimeout((function(){t.option||t.$emit("input",t.inputVal)}))}}};n.default=a},c0c9:function(t,n,e){"use strict";e.r(n);var o=e("d425"),i=e("7e84");for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);e("cf02");var s=e("828b"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"7aca3575",null,!1,o["a"],void 0);n["default"]=r.exports},c52f:function(t,n,e){"use strict";e("6a54");var o=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("998e")),a=o(e("4c34")),s={GetCompanys:function(){return(0,i.default)("/api/Company/GetCompanys").then((function(t){return t}))},InformMenu:function(t){return(0,i.default)("/api/Inform/InformMenu",t).then((function(t){return t}))},OutformMenu:function(t){return(0,i.default)("/api/Outform/OutformMenu",t).then((function(t){return t}))},GetStockList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{Application:a.default.updateType};return(0,i.default)(a.default.HOSTIP+"/api/Stock/GetStockList",t).then((function(t){return t}))},Login:function(t,n){return(0,i.default)(a.default.CQP_ERP_PF_HOST+t,n).then((function(t){return t}))}};n.default=s},c714:function(t,n,e){var o=e("c86c");n=o(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-combox[data-v-50ac55e5]{display:flex;height:40px;flex-direction:row;align-items:center}.uni-combox__label[data-v-50ac55e5]{font-size:16px;line-height:22px;padding-right:10px;color:#999}.uni-combox__input-box[data-v-50ac55e5]{position:relative;display:flex;flex:1;flex-direction:row;align-items:center}.uni-combox__input-box .uni-combox-model[data-v-50ac55e5]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.uni-combox__input[data-v-50ac55e5]{flex:1;font-size:16px;height:22px;line-height:22px}.uni-combox__input-arrow[data-v-50ac55e5]{padding:10px}.uni-combox__selector[data-v-50ac55e5]{box-sizing:border-box;position:absolute;top:100%;left:0;width:100%;height:%?300?%;background-color:#fff;border-radius:6px;box-shadow:#ddd 4px 4px 8px,#ddd -4px -4px 8px;z-index:2}.uni-combox__selector-scroll[data-v-50ac55e5]{box-sizing:border-box}.uni-combox__selector[data-v-50ac55e5]::before{content:"";position:absolute;width:0;height:0;border-bottom:solid 6px #fff;border-right:solid 6px transparent;border-left:solid 6px transparent;left:50%;top:-6px;margin-left:-6px}.uni-combox__selector-empty[data-v-50ac55e5],\r\n.uni-combox__selector-item[data-v-50ac55e5]{line-height:36px;font-size:14px;text-align:center;border-bottom:solid 1px #ddd;margin:0 10px}.uni-combox__selector-empty.active[data-v-50ac55e5],\r\n.uni-combox__selector-item.active[data-v-50ac55e5]{color:#007d34}.uni-combox__selector-empty[data-v-50ac55e5]:last-child,\r\n.uni-combox__selector-item[data-v-50ac55e5]:last-child{border-bottom:none}.input-cancel[data-v-50ac55e5]{position:absolute;right:%?60?%;top:50%;margin-top:%?-16?%;color:#999;line-height:1}',""]),t.exports=n},cf02:function(t,n,e){"use strict";var o=e("4f45"),i=e.n(o);i.a},d425:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var o={uniIcons:e("5102").default,rfForm:e("a460").default,rfIcon:e("fb2a").default,uniCombox:e("69ec").default,rfInput:e("d184").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"login-wrap",attrs:{id:"form"}},[e("v-uni-view",{staticClass:"system-change"},[e("uni-icons",{attrs:{size:"24",type:"more-filled"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleSelectSystem.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"login-content"},[e("v-uni-view",{staticClass:"login-heder"},[t._v("账号登录")]),e("v-uni-view",{staticClass:"login-form"},[e("rf-form",{ref:"form",attrs:{focusField:t.focusField,rules:t.rules,overflow:!1}},[t.$system.loadCompany?e("v-uni-view",{staticClass:"uni-flex uni-row company-box form-item-box"},[e("rf-icon",{staticClass:"input-icon f-20",attrs:{size:"16",icon:"fengongsi"}}),e("uni-combox",{ref:"combox",staticClass:"uni-flex-item",attrs:{isSearch:!0,placeholder:"请输入或者选择分公司",option:t.option,candidates:t.companyOptions},model:{value:t.postData.CompanyID,callback:function(n){t.$set(t.postData,"CompanyID",n)},expression:"postData.CompanyID"}}),e("uni-icons",{attrs:{type:"reload",size:"24",color:"#007d34"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.loadCompany.apply(void 0,arguments)}}})],1):t._e(),e("rf-input",{attrs:{placeholder:"请输入账号",iconType:"person",id:"UserID",focus:t.focusField.UserID},on:{"update:focus":function(n){arguments[0]=n=t.$handleEvent(n),t.$set(t.focusField,"UserID",n)},confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.handleConfirm.apply(void 0,arguments)}},model:{value:t.postData.UserID,callback:function(n){t.$set(t.postData,"UserID",n)},expression:"postData.UserID"}}),e("rf-input",{attrs:{placeholder:"请输入密码",password:t.password,iconType:"locked",id:"Password",focus:t.focusField.Password},on:{"update:focus":function(n){arguments[0]=n=t.$handleEvent(n),t.$set(t.focusField,"Password",n)},confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.handleLogin.apply(void 0,arguments)}},model:{value:t.postData.Password,callback:function(n){t.$set(t.postData,"Password",n)},expression:"postData.Password"}},[e("v-uni-view",{attrs:{slot:"extra"},on:{touchend:function(n){n.preventDefault(),arguments[0]=n=t.$handleEvent(n),t.handleShowPassword.apply(void 0,arguments)}},slot:"extra"},[t.password?e("uni-icons",{attrs:{type:"eye",size:"24",color:"#007d34"}}):e("uni-icons",{attrs:{type:"eye-slash",size:"24",color:"#999999"}})],1)],1)],1)],1),e("v-uni-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleLogin.apply(void 0,arguments)}}},[t._v("登录")])],1)],1)},a=[]},fb7d:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var o={rfIcon:e("fb2a").default,uniIcons:e("5102").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"uni-combox"},[t.label?e("v-uni-view",{staticClass:"uni-combox__label",style:t.labelStyle},[e("v-uni-text",[t._v(t._s(t.label))])],1):t._e(),e("v-uni-view",{staticClass:"uni-combox__input-box"},[t.isSearch?t._e():e("v-uni-view",{staticClass:"uni-combox-model",on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.showSelector=!t.showSelector}}}),t.option?e("v-uni-input",{staticClass:"uni-combox__input",attrs:{type:"text",placeholder:t.placeholder},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onInput.apply(void 0,arguments)},focus:function(n){arguments[0]=n=t.$handleEvent(n),t.onFocus.apply(void 0,arguments)},blur:function(n){arguments[0]=n=t.$handleEvent(n),t.onBlur.apply(void 0,arguments)}},model:{value:t.inputName,callback:function(n){t.inputName=n},expression:"inputName"}}):e("v-uni-input",{staticClass:"uni-combox__input",attrs:{type:"text",placeholder:t.placeholder},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onInput.apply(void 0,arguments)},focus:function(n){arguments[0]=n=t.$handleEvent(n),t.onFocus.apply(void 0,arguments)},blur:function(n){arguments[0]=n=t.$handleEvent(n),t.onBlur.apply(void 0,arguments)}},model:{value:t.inputVal,callback:function(n){t.inputVal=n},expression:"inputVal"}}),t.isShowCancel?e("rf-icon",{staticClass:"input-cancel",attrs:{size:16,icon:"Iconinfoicon-"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleCancel.apply(void 0,arguments)}}}):t._e(),e("uni-icons",{staticClass:"uni-combox__input-arrow",attrs:{type:"arrowdown",size:"14"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toggleSelector.apply(void 0,arguments)}}}),t.showSelector?e("v-uni-view",{staticClass:"uni-combox__selector"},[e("v-uni-scroll-view",{staticClass:"uni-combox__selector-scroll",staticStyle:{height:"100%"},attrs:{"scroll-into-view":"com-"+(t.option&&t.option.value?t.inputVal:1),"scroll-y":"true"}},[0===t.filterCandidatesLength?e("v-uni-view",{staticClass:"uni-combox__selector-empty"},[e("v-uni-text",[t._v(t._s(t.emptyTips))])],1):t._e(),t.option&&t.option.value?e("v-uni-view",{},t._l(t.filterCandidates,(function(n,o){return e("v-uni-view",{key:o,staticClass:"uni-combox__selector-item",class:{active:t.inputVal===n[t.option.value]},attrs:{id:"com-"+n[t.option.value]},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onSelectorClick(o)}}},[e("v-uni-text",[t._v(t._s(n[t.option.label]))])],1)})),1):e("v-uni-view",{},t._l(t.filterCandidates,(function(n,o){return e("v-uni-view",{key:o,staticClass:"uni-combox__selector-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onSelectorClick(o)}}},[e("v-uni-text",[t._v(t._s(n))])],1)})),1)],1)],1):t._e()],1)],1)},a=[]}}]);